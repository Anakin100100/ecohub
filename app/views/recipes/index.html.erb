<h2 class="text-center">Cooking recipes</h2>
<div class="row">
    <div class="col-12">
        <button type="button" class="btn btn-dark w-100">
            <%= link_to "NEW RECIPE", new_recipe_path, :class => "link_button" %>
        </button>
    </div>
</div>
<div>
    <form class="search mt-2 md-2" id="search" action="/recipes" accept-charset="UTF-8" method="get">
        <input name="utf8" type="hidden" value="&#x2713;" />
        <div class="row">
            <div class="col-8">
                <div class="form-group">
                    <input type="text" class="form-control" aria-describedby="search for recipe" placeholder="Recipe name" name="search" id="search_text_field" />
                </div>
            </div>
            <div class="col-4 text-center ">
                <button type="submit" class="btn btn-dark w-100">Search</button>
            </div>
        </div>
    </form>
    <% if @search %>
        <% if @search.count != 0 %>
            <h2 class="md-1 mt-1">Search results for <%= params[:search] %></h2>
            <% @search.each do |recipe| %>
                <div class="card md-1 mt-1">
                    <div class="card-body">
                        <div class="row text-left">
                            <div class="text-center">
                                <h5 class="text-center">
                                    <%= recipe.name  %>
                                </h5>
                            </div>
                            <div class="d-flex justify-content-around">
                                <button type="button" class="btn btn-primary">
                                    <%= link_to 'Show', recipe_path(recipe), :class => "link_button" %>
                                </button>
                                <button type="button" class="btn btn-primary">
                                    <%= link_to 'Edit', edit_recipe_path(recipe), :class => "link_button" %>
                                </button>
                                <button type="button" class="btn btn-primary">
                                    <%= link_to 'Delete', recipe, method: :delete, data: { confirm: 'Are you sure?' }, :class => "link_button" %>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            <% end %>
        <% else %>
            <h4>None</h4>
        <% end %>
    <% end %>      
</div>
<% @recipes.each do |recipe| %>
    <div class="card md-1 mt-1">
        <div class="card-body">
            <div class="row text-left">
                <div class="text-center">
                    <h5 class="text-center">
                        <%= recipe.name  %>
                    </h5>
                </div>
                <div class="d-flex justify-content-around">
                    <button type="button" class="btn btn-primary">
                        <%= link_to 'Show', recipe_path(recipe), :class => "link_button" %>
                    </button>
                    <button type="button" class="btn btn-primary">
                        <%= link_to 'Edit', edit_recipe_path(recipe), :class => "link_button" %>
                    </button>
                    <button type="button" class="btn btn-primary">
                        <%= link_to "Share", { :controller => :recipes, :action => :share, recipe_id: recipe.id  }, { class: "link_button" }%>
                    </button>
                </div>
            </div>
        </div>
    </div>
<% end %>